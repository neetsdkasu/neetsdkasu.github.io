<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@neetsdkasu" />
    <meta name="twitter:creator" content="@neetsdkasu" />
    <meta property="og:url" content="https://neetsdkasu.github.io/misc/dqwalkhearts.html" />
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="ja_JP" />
    <meta property="og:title" content="DQ-Walk Hearts" />
    <meta property="og:image" content="https://neetsdkasu.github.io/misc/dqwalkhearts/image.png" />
    <meta property="og:description" content="find best score of heart set for DQ-Walk" />
    <link rel="stylesheet" href="./dqwalkhearts/style.css" />
    <title>DQ-Walk Hearts</title>
    <script src="./dqwalkhearts/script.js" defer></script>
  </head>
  <body>

    <header>
      <h1>DQ-Walk Hearts</h1>
    </header>

    <dialog id="alert_dialog">
      <div id="alert_message">アラート</div>
      <hr />
      <form method="dialog">
        <div>
          <button>オーケイ</button>
        </div>
      </form>
    </dialog>

    <dialog id="wait_dialog">
      <div id="wait_message">しばらくお待ちください</div>
      <hr />
      <form method="dialog">
        <div>
          <button value="cancel">中止</button>
        </div>
      </form>
    </dialog>

    <dialog id="file_load_dialog">
      <div>こころリストをファイルから読み込む</div>
      <hr />
      <form method="dialog">
        <div><input type="file" name="file" accept=".json,application/json" required /></div>
        <fieldset>
          <div><label><input type="radio" name="file_load_option" value="truncate"             >現在のリストを全て破棄してファイルのリストを読込む</label></div>
          <div><label><input type="radio" name="file_load_option" value="file_as_newer"        >ファイルのリストを最新として現在のリストへ追加する</label></div>
          <div><label><input type="radio" name="file_load_option" value="file_as_older" checked>現在のリストを最新としてファイルのリストを追加する</label></div>
        </fieldset>
        <hr />
        <div>
          <button type="submit" value="load"  >読み込む</button>
          <button type="button" value="cancel">キャンセル</button>
        </div>
      </form>
    </dialog>

    <dialog id="change_monster_name_dialog">
      <div>こころ名の変更</div>
      <hr />
      <form method="dialog">
        <input type="hidden" name="change_monster_name_monster_id" value="" />
        <div>
          <label for="old_monster_name">元の名前:</label><input type="text" name="old_monster_name" id="old_monster_name" readonly />
        </div>
        <br />
        <div>
          <label for="new_monster_name">新しい名前:</label><input type="text" name="new_monster_name" id="new_monster_name" pattern="[^\(\)\s]+" title="半角丸括弧や空白文字は使用できません" required />
        </div>
        <hr />
        <div>
          <button type="submit" value="change"  >変更を適用する</button>
          <button type="button" value="cancel">キャンセル</button>
        </div>
      </form>
    </dialog>

    <datalist id="job_preset_maximum_cost_list"></datalist>
    <datalist id="reallyneeded_job_preset_maximum_cost_list"></datalist>

    <datalist id="monster_name_list"></datalist>

    <!-- これ要らんかも(邪魔だし) -->
    <datalist id="maximumcost_list">
      <option value="0"></option>
      <option value="1"></option>
      <option value="2"></option>
      <option value="3"></option>
      <option value="4"></option>
    </datalist>

    <dialog id="add_heart_dialog">
      <div>こころ追加</div>
      <hr />
      <form method="dialog">
        <div>
          <span class="very-small">※同名の別種こころは登録できません(名前変えて登録して頂戴)</span>
          <br />
          <label for="add_monster_name">名前:</label><input type="text" name="add_monster_name" id="add_monster_name" list="monster_name_list" pattern="[^\(\)\s]+" title="半角丸括弧や空白文字は使用できません" required />
        </div>
        <div>
          <span>色:</span>
          <input type="radio" name="add_color" id="add_color_yellow"  value="Yellow"  required /><label for="add_color_yellow"  >黄(戦)</label>
          <input type="radio" name="add_color" id="add_color_purple"  value="Purple"  required /><label for="add_color_purple"  >紫(魔)</label>
          <input type="radio" name="add_color" id="add_color_green"   value="Green"   required /><label for="add_color_green"   >緑(僧)</label>
          <input type="radio" name="add_color" id="add_color_red"     value="Red"     required /><label for="add_color_red"     >赤(武)</label>
          <input type="radio" name="add_color" id="add_color_blue"    value="Blue"    required /><label for="add_color_blue"    >青(盗)</label>
          <input type="radio" name="add_color" id="add_color_rainbow" value="Rainbow" required /><label for="add_color_rainbow" >虹(？)</label>
        </div>
        <fieldset>
          <div><label for="add_cost">コスト:</label><input type="number" name="add_cost" id="add_cost" required /></div>
          <div>
            <span>ランク:</span>
            <input type="radio" name="add_rank" id="add_rank_s_plus" value="S_plus" required><label for="add_rank_s_plus">S+</label>
            <input type="radio" name="add_rank" id="add_rank_s"      value="S"      required><label for="add_rank_s"     >S</label>
            <input type="radio" name="add_rank" id="add_rank_a"      value="A"      required><label for="add_rank_a"     >A</label>
            <input type="radio" name="add_rank" id="add_rank_b"      value="B"      required><label for="add_rank_b"     >B</label>
            <input type="radio" name="add_rank" id="add_rank_c"      value="C"      required><label for="add_rank_c"     >C</label>
            <input type="radio" name="add_rank" id="add_rank_d"      value="D"      required><label for="add_rank_d"     >D</label>
          </div>
          <div>
            <label for="add_maximumhp">HP:</label>
            <input type="number" name="add_maximumhp" id="add_maximumhp" required />
          </div>
          <div>
            <label for="add_maximummp">MP:</label>
            <input type="number" name="add_maximummp" id="add_maximummp" required />
          </div>
          <div>
            <label for="add_power">力:</label>
            <input type="number" name="add_power" id="add_power" required />
          </div>
          <div>
            <label for="add_defence">守り:</label>
            <input type="number" name="add_defence" id="add_defence" required />
          </div>
          <div>
            <label for="add_attackmagic">攻魔:</label>
            <input type="number" name="add_attackmagic" id="add_attackmagic" required />
          </div>
          <div>
            <label for="add_recovermagic">回魔:</label>
            <input type="number" name="add_recovermagic" id="add_recovermagic" required />
          </div>
          <div>
            <label for="add_speed">早さ:</label>
            <input type="number" name="add_speed" id="add_speed" required />
          </div>
          <div>
            <label for="add_dexterity">器用:</label>
            <input type="number" name="add_dexterity" id="add_dexterity" required />
          </div>
          <div>
            <label for="add_maximumcost">こころ最大コスト:</label>
            <input type="number" name="add_maximumcost" id="add_maximumcost" list="maximumcost_list" />
          </div>
          <div>
            <label for="add_effects">スキル・特殊効果:</label>
            <input type="text" name="add_effects" id="add_effects" placeholder="ギラ 毒耐性+3% メラ呪文ダメージ+5% など" pattern="[^\(\)]+" title="半角丸括弧は使用できません" />
          </div>
        </fieldset>
        <hr />
        <div class="dialog-buttons">
          <button type="submit" value="add"   >追加する</button>
          <button type="button" value="cancel">キャンセル</button>
        </div>
      </form>
    </dialog>

    <dialog id="score_list_dialog">
      <div class="message"></div>
      <form method="dialog">
        <div><button type="submit" value="ok">オーケイ</button></div>
      </form>
      <hr />
      <table>
        <thead>
          <tr>
            <th>色</th>
            <th>コスト</th>
            <th>名前</th>
            <th>ランク</th>
            <th>スコア</th>
            <th>効果UP時</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </dialog>

    <dialog id="search_heart_dialog">
      <div>探索対象</div>
      <hr />
      <form method="dialog">
        <div>
          <label for="preset_heartset">プリセット:</label>
          <select name="preset_heartset" id="preset_heartset">
            <option value="101" selected>戦士</option>
            <option value="102"         >魔法使い</option>
            <option value="103"         >僧侶</option>
            <option value="104"         >武闘家</option>
            <option value="105"         >盗賊</option>
            <option value="106"         >踊り子</option>
            <option value="107"         >遊び人</option>
            <option value="201"         >バトルマスター</option>
            <option value="202"         >賢者</option>
            <option value="203"         >レンジャー</option>
            <option value="204"         >魔法戦士</option>
            <option value="205"         >パラディン</option>
            <option value="206"         >スーパースター</option>
            <option value="207"         >海賊</option>
            <option value="208"         >まものマスター</option>
            <option value="301"         >ゴッドハンド</option>
            <option value="302"         >大魔道士</option>
            <option value="303"         >大神官</option>
            <option value="304"         >ニンジャ</option>
            <option value="305"         >魔剣士</option>
          </select>
        </div>
        <div>
          <span>こころ枠1:</span>
          <input type="checkbox" name="heart1_yellow" id="heart1_yellow" checked /><label for="heart1_yellow">黄(戦)</label>
          <input type="checkbox" name="heart1_purple" id="heart1_purple" checked /><label for="heart1_purple">紫(魔)</label>
          <input type="checkbox" name="heart1_green"  id="heart1_green"  checked /><label for="heart1_green" >緑(僧)</label>
          <input type="checkbox" name="heart1_red"    id="heart1_red"    checked /><label for="heart1_red"   >赤(武)</label>
          <input type="checkbox" name="heart1_blue"   id="heart1_blue"   checked /><label for="heart1_blue"  >青(盗)</label>
        </div>
        <div>
          <span>こころ枠2:</span>
          <input type="checkbox" name="heart2_yellow" id="heart2_yellow" checked /><label for="heart2_yellow">黄(戦)</label>
          <input type="checkbox" name="heart2_purple" id="heart2_purple"         /><label for="heart2_purple">紫(魔)</label>
          <input type="checkbox" name="heart2_green"  id="heart2_green"          /><label for="heart2_green" >緑(僧)</label>
          <input type="checkbox" name="heart2_red"    id="heart2_red"            /><label for="heart2_red"   >赤(武)</label>
          <input type="checkbox" name="heart2_blue"   id="heart2_blue"           /><label for="heart2_blue"  >青(盗)</label>
        </div>
        <div>
          <span>こころ枠3:</span>
          <input type="checkbox" name="heart3_yellow" id="heart3_yellow" checked /><label for="heart3_yellow">黄(戦)</label>
          <input type="checkbox" name="heart3_purple" id="heart3_purple"         /><label for="heart3_purple">紫(魔)</label>
          <input type="checkbox" name="heart3_green"  id="heart3_green"          /><label for="heart3_green" >緑(僧)</label>
          <input type="checkbox" name="heart3_red"    id="heart3_red"            /><label for="heart3_red"   >赤(武)</label>
          <input type="checkbox" name="heart3_blue"   id="heart3_blue"           /><label for="heart3_blue"  >青(盗)</label>
        </div>
        <div>
          <span>こころ枠4:</span>
          <input type="checkbox" name="heart4_yellow" id="heart4_yellow" disabled /><label for="heart4_yellow">黄(戦)</label>
          <input type="checkbox" name="heart4_purple" id="heart4_purple" disabled /><label for="heart4_purple">紫(魔)</label>
          <input type="checkbox" name="heart4_green"  id="heart4_green"  disabled /><label for="heart4_green" >緑(僧)</label>
          <input type="checkbox" name="heart4_red"    id="heart4_red"    disabled /><label for="heart4_red"   >赤(武)</label>
          <input type="checkbox" name="heart4_blue"   id="heart4_blue"   disabled /><label for="heart4_blue"  >青(盗)</label>
          <input type="checkbox" name="heart4_omit"   id="heart4_omit"   checked  /><label for="heart4_omit"  >使用しない</label>
        </div>
        <div>
          <label for="heart_power_up">色適合時の変化:</label>
          <input type="number" name="heart_power_up" id="heart_power_up" min="1.0" max="2.0" step="0.1" value="1.2" required />
          倍
        </div>
        <div>
          <label for="heart_maximum_cost">こころ最大コスト:</label>
          <input type="number" name="heart_maximum_cost" id="heart_maximum_cost" min="0" max="1000" required list="job_preset_maximum_cost_list" />
          <span class="small">
            <input type="checkbox" name="as_limit_heart_cost" id="as_limit_heart_cost" />
            <label for="as_limit_heart_cost">上限コストとして扱う</label>
          </span>
        </div>
        <div>
          <span>最大化:</span>
          <input type="radio" name="goal" id="goal_maximumhp"    value="maximumhp"    checked /><label for="goal_maximumhp"   >HP</label>
          <input type="radio" name="goal" id="goal_maximummp"    value="maximummp"            /><label for="goal_maximummp"   >MP</label>
          <input type="radio" name="goal" id="goal_power"        value="power"                /><label for="goal_power"       >力</label>
          <input type="radio" name="goal" id="goal_defence"      value="defence"              /><label for="goal_defence"     >守り</label>
          <input type="radio" name="goal" id="goal_attackmagic"  value="attackmagic"          /><label for="goal_attackmagic" >攻魔</label>
          <input type="radio" name="goal" id="goal_recovermagic" value="recovermagic"         /><label for="goal_recovermagic">回魔</label>
          <input type="radio" name="goal" id="goal_speed"        value="speed"                /><label for="goal_speed"       >早さ</label>
          <input type="radio" name="goal" id="goal_dexterity"    value="dexterity"            /><label for="goal_dexterity"   >器用</label>
          <input type="radio" name="goal" id="goal_expression"   value="expression"           /><label for="goal_expression"  >式</label>
          <div>
            <fieldset>
              <div class="small">各『こころ』ごとにこの計算式でスコアを計算し、スコアの合計を最大化するセットを探す</div>
              <div><label for="expression">式：</label><input type="text" name="expression" id="expression" placeholder="HP+MP+PWR+DEF+AMG+RMG+SPD+DEX" maxLength="300" size="60" /></div>
              <div>
                <details class="small description-expression">
                  <summary>説明を見る</summary>
                  <div>英数字記号は全て半角、英字は大文字で。</div>
                  <div>
                    <table>
                      <thead>
                        <tr>
                          <th></th>
                          <th>式での表記</th>
                          <th>例</th>
                          <th>備考</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>HP</td>
                          <td><code>HP</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>MP</td>
                          <td><code>MP</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>力</td>
                          <td><code>PWR</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>守り</td>
                          <td><code>DEF</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>攻魔</td>
                          <td><code>AMG</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>回魔</td>
                          <td><code>RMG</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>早さ</td>
                          <td><code>SPD</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>器用</td>
                          <td><code>DEX</code></td>
                          <td><code></code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>足し算</td>
                          <td><code>+</code></td>
                          <td><code>HP+MP</code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>掛け算</td>
                          <td><code>*</code></td>
                          <td><code>MP*AMG</code></td>
                          <td>計算順序は足し算より優先される</td>
                        </tr>
                        <tr>
                          <td>最小</td>
                          <td><code>MIN( , )</code></td>
                          <td><code>MIN(HP,MP)</code></td>
                          <td>カンマ区切りで指定した式のうち最小になる値を選ぶ</td>
                        </tr>
                        <tr>
                          <td>最大</td>
                          <td><code>MAX( , )</code></td>
                          <td><code>MAX(PWR,AMG)</code></td>
                          <td>カンマ区切りで指定した式のうち最大になる値を選ぶ</td>
                        </tr>
                        <tr>
                          <td>整数</td>
                          <td><code></code></td>
                          <td><code>HP*7+PWR*10</code></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>順序</td>
                          <td><code>( )</code></td>
                          <td><code>(HP+MP)*(PWR+SPD)</code></td>
                          <td>計算順序で掛け算より足し算を優先したいときに使う</td>
                        </tr>
                        <tr>
                          <td>名前</td>
                          <td><code>NAME( )</code></td>
                          <td><code>HP+NAME(キメラ)*1000</code></td>
                          <td>指定の名前のこころのとき<code>NAME</code>の値は<code>1</code>になる<br />
                              それ以外のこころのとき<code>NAME</code>の値は<code>0</code>になる</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div>
                    <details>
                      <summary class="small">その他</summary>
                      <table>
                        <thead>
                          <tr>
                            <th></th>
                            <th>式での表記</th>
                            <th>例</th>
                            <th>備考</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>色</td>
                            <td><code>COLOR( )</code></td>
                            <td><code>PWR+COLOR(黄)*5</code></td>
                            <td>こころが指定の色のとき<code>COLOR</code>の値は<code>1</code>になる<br />
                                それ以外のとき<code>COLOR</code>の値は<code>0</code>になる<br />
                                <code>COLOR</code>に指定できる色は<code>黄</code>,<code>紫</code>,<code>緑</code>,<code>赤</code>,<code>青</code>のいずれか</td>
                          </tr>
                          <tr>
                            <td>コスト</td>
                            <td><code>COST</code></td>
                            <td><code>HP+COST</code></td>
                            <td>こころのコストを計算式に使用できる</td>
                          </tr>
                          <tr>
                            <td>スキル</td>
                            <td><code>SKILL( )</code></td>
                            <td><code>MP+SKILL(メラ)*8</code></td>
                            <td>指定した文字列と完全一致するスキル・特殊効果があるとき<code>SKILL</code>の値は<code>1</code>になる<br />
                                それ以外のとき<code>SKILL</code>の値は<code>0</code>になる</td>
                          </tr>
                          <tr>
                            <td>一部</td>
                            <td><code>FIND( )</code></td>
                            <td><code>PWR+FIND(体技)*5</code></td>
                            <td>指定した文字列が含まれるスキル・特殊効果が1つでもあるとき<code>FIND</code>の値は<code>1</code>になる<br />
                                それ以外のとき<code>FIND</code>の値は<code>0</code>になる</td>
                          </tr>
                          <tr>
                            <td>個数</td>
                            <td><code>COUNT( )</code></td>
                            <td><code>10*COUNT(耐性)+HP</code></td>
                            <td><code>COUNT</code>の値は指定した文字列を含むスキル・特殊効果の個数になる</td>
                          </tr>
                          <tr>
                            <td>数値</td>
                            <td><code>NUM( # )</code></td>
                            <td><code>NUM(毒耐性+#%)+DEF</code></td>
                            <td>スキル・特殊効果で<code>#</code>の位置に数値があるとき<code>NUM</code>の値はその数値になる<br />
                                それ以外のとき<code>NUM</code>の値は<code>0</code>になる<br />
                                指定の文字列の数値(<code>#</code>)以外の部分はスキル・特殊効果と完全一致する必要がある</td>
                          </tr>
                          <tr>
                            <td>昇順</td>
                            <td><code>LESS( , )</code></td>
                            <td><code>LESS(PWR,AMG)</code></td>
                            <td>カンマ区切りで指定した式において<br />
                                右側の式の値より左側の式の値が小さい(つまり昇順に並んでいる)とき<code>LESS</code>の値は<code>1</code>になる<br />
                                それ以外のとき<code>LESS</code>の値は<code>0</code>になる</td>
                          </tr>
                          <tr>
                            <td>引き算</td>
                            <td><code>-</code></td>
                            <td><code>HP-MP</code></td>
                            <td>計算順序は掛け算のほうが優先される<br />
                                計算順序で足し算や他の引き算とは左側にあるほうが優先されて計算される</td>
                          </tr>
                          <tr>
                            <td>絶対値</td>
                            <td><code>ABS( )</code></td>
                            <td><code>ABS(PWR-AMG)</code></td>
                            <td><code>ABS</code>の値は括弧内で指定した式の値の絶対値になる</td>
                          </tr>
                          <tr>
                            <td>適合</td>
                            <td><code>FIT</code></td>
                            <td><code>FIT*10</code></td>
                            <td>こころの値がアップするこころ枠でのスコア計算のとき<code>FIT</code>は<code>1</code>になる<br />
                                それ以外のときは<code>FIT</code>は<code>0</code>になる</td>
                          </tr>
                        </tbody>
                      </table>
                    </details>
                  </div>
                </details>
              </div>
              <hr />
              <div><button type="button" value="check" id="check_expression">式の確認</button></div>
            </fieldset>
          </div>
        </div>
        <div>
          <input type="checkbox" name="heart_with_s_plus" id="heart_with_s_plus" />
          <label for="heart_with_s_plus">
            <span>同一こころのS+とS以下の同時検索</span>
            <span class="small"> ※特別な条件との同時利用はできません</span><br />
          </label>
          <span class="small"> ※S+のあるこころごとに同時検索するかの設定が必要です</span>
        </div>
        <div>
          <input type="checkbox" name="heart_require_skill" id="heart_require_skill" />
          <label for="heart_require_skill">特別な条件</label>
          <div>
            <fieldset>
              <legend>条件1</legend>
              <div class="small">
                ここで指定した式でスコアが1以上になるこころを<select name="heart_require_skill_expression_count" id="heart_require_skill_expression_count">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>個以上含めるようにセットを検索する<br />
                ※ここで使う式は最大化の項目の式と同じ書式
              </div>
              <input type="text" name="heart_require_skill_expression" id="heart_require_skill_expression" placeholder="SKILL(きあいため)+SKILL(ちからため)" maxlength="300" size="60" />
              <hr />
              <button type="button" value="check" id="check_require_skill">式の確認</button>
            </fieldset>
            <input type="checkbox" name="heart_require_skill_2" id="heart_require_skill_2" />
            <label for="heart_require_skill_2">条件2を追加 <span class="small">(条件2のこころもセットに含める)</span></label>
            <div>
              <fieldset>
                <legend>条件2</legend>
                <div class="small">
                  条件1でスコアが0以下になるこころのうち<br />
                  ここで指定した式でスコアが1以上になるこころを1個以上含めるようにセットを検索する<br />
                  ※ここで使う式は最大化の項目の式と同じ書式
                </div>
                <input type="text" name="heart_require_skill_expression_2" id="heart_require_skill_expression_2" placeholder="SKILL(ベホイミ)+SKILL(ホイミ)" maxlength="300" size="60" />
                <hr />
                <button type="button" value="check" id="check_require_skill_2">式の確認</button>
              </fieldset>
              <input type="checkbox" name="heart_require_skill_3" id="heart_require_skill_3" />
              <label for="heart_require_skill_3">条件3を追加 <span class="small">(条件3のこころもセットに含める)</span></label>
              <div>
                <fieldset>
                  <legend>条件3</legend>
                  <div class="small">
                    条件1と条件2でスコアが0以下になるこころのうち<br />
                    ここで指定した式でスコアが1以上になるこころを1個以上含めるようにセットを検索する<br />
                    ※ここで使う式は最大化の項目の式と同じ書式
                  </div>
                  <input type="text" name="heart_require_skill_expression_3" id="heart_require_skill_expression_3" placeholder="SKILL(ルカニ)+SKILL(かぶとわり)" maxlength="300" size="60" />
                  <hr />
                  <button type="button" value="check" id="check_require_skill_3">式の確認</button>
                </fieldset>
                <input type="checkbox" name="heart_require_skill_4" id="heart_require_skill_4" />
                <label for="heart_require_skill_4">条件4を追加 <span class="small">(条件4のこころもセットに含める)</span></label>
                <div>
                  <fieldset>
                    <legend>条件4</legend>
                    <div class="small">
                      条件1と条件2と条件3でスコアが0以下になるこころのうち<br />
                      ここで指定した式でスコアが1以上になるこころを1個含めるようにセットを検索する<br />
                      ※ここで使う式は最大化の項目の式と同じ書式
                    </div>
                    <input type="text" name="heart_require_skill_expression_4" id="heart_require_skill_expression_4" placeholder="SKILL(メラ)+SKILL(ヒャド)" maxlength="300" size="60" />
                    <hr />
                    <button type="button" value="check" id="check_require_skill_4">式の確認</button>
                  </fieldset>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="dialog-buttons">
          <button type="submit" value="start">探索開始</button>
          <button type="button" value="cancel">キャンセル</button>
        </div>
      </form>
    </dialog>

    <main>

      <section class="outline">
        <h5>こころセット</h5>
        <div class="buttons">
          <button id="search_heart">探索</button>
        </div>
        <hr />
        <div>
          <div><span>セット:</span> <span id="result_setname"></span></div>
          <div><span>こころ枠1:</span> <span id="result_heart1"></span></div>
          <div><span>こころ枠2:</span> <span id="result_heart2"></span></div>
          <div><span>こころ枠3:</span> <span id="result_heart3"></span></div>
          <div><span>こころ枠4:</span> <span id="result_heart4"></span></div>
          <div><span>色適合時の変化:</span> <span id="result_power_up"></span>倍</div>
          <div><span>こころ最大コスト:</span> <span id="result_maximumcost"></span></div>
          <div><span>最大化:</span> <span id="result_goal"></span></div>
          <div><span>特別な条件(条件1):</span> <span id="result_require_skill"></span></div>
          <div><span>特別な条件(条件2):</span> <span id="result_require_skill_2"></span></div>
          <div><span>特別な条件(条件3):</span> <span id="result_require_skill_3"></span></div>
          <div><span>特別な条件(条件4):</span> <span id="result_require_skill_4"></span></div>
        </div>
        <hr />
        <div id="result"><span class="small">ここに検索結果が表示されます</small></div>
      </section>

      <section class="outline">
        <h5>こころリスト</h5>
        <div class="buttons">
          <button id="add_heart">こころ追加</button>
          <button id="load_file">ファイル読込</button>
          <span>
            <button id="download">ダウンロード</button>
            <span id="downloadlink" hidden>
              <a href="" download="dqwalkhearts.json" type="application/json">dqwalkhearts.json</a>
              <span></span>
            </span>
          </span>
        </div>
        <hr />
        <div id="heart_list"></div>
        <hr />
        <div class="small changed-rank-info">
          <span>ランク変更: <span id="changed_rank_count">0</span></span>
          <span>既定からの変更: <span id="changed_default_count">0</span></span>
          <span><button type="button" id="reset_rank">ランク変更をクリアする</button></span>
          <span><button type="button" id="return_default_rank">ランク変更を既定に戻す</button></span>
          <span><button type="button" id="set_default_rank">現在のランク変更を既定とする</button></span>
        </div>
      </section>

      <hr />

      <section>
        <h5>ステータス近距離</h5>
        <details>
          <div>※リストで選択されているランクのこころのみ対象</div>
          <dl>
            <dt>上位互換</dt><dd>対象のこころのステータスに対して『ステータス全部が以上でかつステータスの少なくとも１つが上』のこころ</dd>
            <dt>下位互換</dt><dd>対象のこここを上位互換とするこころ</dd>
            <dt>近距離</dt><dd>対象のこころにステータス距離が一番近いこころ</dd>
            <dt>ステータス距離</dt><dd>EuclideanかManhattanで求める値</dd>
            <dt>Cost</dt><dd>上位互換のうちコストが最小のこころ</dd>
            <dt>Euclidean</dt><dd>各ステータス差の二乗和の平方根でステータス距離を求め、一番距離の近いこころを求める</dd>
            <dt>Manhattan</dt><dd>各ステータス差の絶対値の和でステータス距離を求め、一番距離の近いこころを求める</dd>
          </dl>
          <button id="calc_status_distance">計算</button>
          <table>
            <thead>
              <tr>
                <th rowspan="2">対象</th>
                <th colspan="3">上位互換</th>
                <th colspan="2">下位互換</th>
                <th colspan="2">近距離</th>
              </th>
              <tr>
                <th>Cost</th>
                <th>Euclidean</th>
                <th>Manhattan</th>
                <th>Euclidean</th>
                <th>Manhattan</th>
                <th>Euclidean</th>
                <th>Manhattan</th>
              </th>
            </thead>
            <tbody id="status_distance_tbody">
            </tbody>
          </table>
        </details>
      </section>

      <hr class="secret" />

      <section class="secret reallyneeded">
        <h5>本当はこういうこころセット探索が欲しかった(と思っていたが実装した感じ、思ってたのと違う)</h5>
        <details>
          <details class="outline">
            <summary>説明</summary>
          <dl>
            <dt>探索方法</dt><dd>こころセットから少しでもペナルティが下がるor少しでもボーナスが上がるこころを見つけたらこころを入れ替えるを繰り返す</dd>
            <dt>ペナルティ</dt><dd>目標値から離れている場合の不適切さを表す点数</dd>
            <dt>ボーナス</dt><dd>目標値を達成している場合の好ましさを表す点数（※対象のペナルティの計算結果が0のときのみボーナスは算出される）</dd>
            <dt>対象</dt><dd>各こころにおいてペナルティやボーナスの計算の対象となる値を指定する</dd>
            <dt>式A～式F</dt><dd>各こころにおいて対象となる値を式で求める</dd>
            <dt>目標値</dt><dd>こころセットにおける対象の合計値が目指すべき値</dd>
            <dt>低ペナ</dt><dd>目標値より低い場合に科すペナルティ（目標値以上の値を目指したい場合に設定する）</dd>
            <dt>高ペナ</dt><dd>目標値を超えている場合に科すペナルティ（目標値以下の値を目指したい場合に設定する）</dd>
            <dt>コスト高ペナ</dt><dd>こころセット探索中にコストの上限を超えてしまった場合に科すペナルティ（※値の設定をしないとこころセットを見つけにくくなる）</dd>
            <dt>ペナルティ・ボーナスの計算</dt><dd>目標値からの差分の大きさを<code>x</code>とした場合に、式<code>a*x^2+b*x+c</code>で各対象ごとに計算しそれらを合計したものを点数とする</dd>
            <dt>2次係数</dt><dd>式<code>a*x^2+b*x+c</code>の2次の項<code>a*x^2</code>の係数<code>a</code>のこと</dd>
            <dt>1次係数</dt><dd>式<code>a*x^2+b*x+c</code>の1次の項<code>b*x</code>の係数<code>b</code>のこと</dd>
            <dt>定数</dt><dd>式<code>a*x^2+b*x+c</code>の定数項<code>c</code>のこと</dd>
            <dt>ペナルティ・ボーナスの値の設定のヒント</dt><dd>基本的に1次係数を<code>1</code>にしておけばだいたいOK</dd>
            <dt>目標値ピッタリの値を求めるヒント</dt><dd>対象の低ペナと高ペナの両方ともに値を設定すればたぶんOK</dd>
            <dt>こころセットの優劣のヒント</dt><dd>対象に目標値は無いが値が大きいほうが良い場合は目標値とペナルティを0にしボーナスにだけ正の値を設定すればいいかも？</dd>
            <dt>参考値</dt><dd>こころセットの対象の合計値から参考にしたい値を参考値式から算出する（※こころセット探索の評価には使用されず、検索結果に表示されるだけの値となる）（※探索のチェックの入ってる対象項目のみを参照できる）</dd>
            <dt>参考値の式</dt><dd>こころセットの対象の合計値から参考にしたい値を算出するための計算式（※式A～式Hの値は<code>NUM</code>関数を用いて取得する。例：<code>NUM(式A#)</code>）</dd>
          </dl>
          </details>
          <div class="outline reallyneeded">
            <div class="small">設定</div>
            <div>
              <label for="reallyneeded_job">職業:</label>
              <select name="reallyneeded_job" id="reallyneeded_job">
                <option value="101" selected>戦士</option>
                <option value="102"         >魔法使い</option>
                <option value="103"         >僧侶</option>
                <option value="104"         >武闘家</option>
                <option value="105"         >盗賊</option>
                <option value="106"         >踊り子</option>
                <option value="107"         >遊び人</option>
                <option value="201"         >バトルマスター</option>
                <option value="202"         >賢者</option>
                <option value="203"         >レンジャー</option>
                <option value="204"         >魔法戦士</option>
                <option value="205"         >パラディン</option>
                <option value="206"         >スーパースター</option>
                <option value="207"         >海賊</option>
                <option value="208"         >まものマスター</option>
                <option value="301"         >ゴッドハンド</option>
                <option value="302"         >大魔道士</option>
                <option value="303"         >大神官</option>
                <option value="304"         >ニンジャ</option>
                <option value="305"         >魔剣士</option>
              </select>
            </div>
            <div>
              <div><span>こころ枠1:</span> <span id="reallyneeded_heart1"></span></div>
              <div><span>こころ枠2:</span> <span id="reallyneeded_heart2"></span></div>
              <div><span>こころ枠3:</span> <span id="reallyneeded_heart3"></span></div>
              <div><span>こころ枠4:</span> <span id="reallyneeded_heart4"></span></div>
              <div><span>色適合時の変化:</span> <span id="reallyneeded_power_up"></span>倍</div>
            </div>
            <div>
              <label for="reallyneeded_heart_maximum_cost">こころ最大コスト:</label>
              <input type="number" name="reallyneeded_heart_maximum_cost" id="reallyneeded_heart_maximum_cost" min="0" max="1000" list="reallyneeded_job_preset_maximum_cost_list" />
              <span class="small">
                <input type="checkbox" name="reallyneeded_as_limit_heart_cost" id="reallyneeded_as_limit_heart_cost" />
                <label for="reallyneeded_as_limit_heart_cost">上限コストとして扱う</label>
              </span>
            </div>
            <div>
              <span>コスト高ペナ:</span>
              <label for="reallyneeded_heart_maximum_cost_hp2">2次係数:</label>
              <input type="number" min="0" max="9999" name="reallyneeded_heart_maximum_cost_hp2" id="reallyneeded_heart_maximum_cost_hp2" />
              <label for="reallyneeded_heart_maximum_cost_hp1">1次係数:</label>
              <input type="number" min="0" max="9999" name="reallyneeded_heart_maximum_cost_hp1" id="reallyneeded_heart_maximum_cost_hp1" />
              <label for="reallyneeded_heart_maximum_cost_hpc">定数:</label>
              <input type="number" min="0" max="9999" name="reallyneeded_heart_maximum_cost_hpc" id="reallyneeded_heart_maximum_cost_hpc" />
            </div>
            <hr />
            <table class="reallyneeded">
              <thead>
                <tr>
                  <th rowspan="2">対象</th>
                  <th rowspan="2">目標値</th>
                  <th colspan="3">低ぺナ</th>
                  <th colspan="3">高ぺナ</th>
                  <th colspan="3">ボーナス</th>
                </tr>
                <tr>
                  <th>2次係数</th><th>1次係数</th><th>定数</th>
                  <th>2次係数</th><th>1次係数</th><th>定数</th>
                  <th>2次係数</th><th>1次係数</th><th>定数</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_maximumhp" id="reallyneeded_maximumhp" />
                    <label for="reallyneeded_maximumhp">HP</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_maximumhp_goal" id="reallyneeded_maximumhp_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_lp2" id="reallyneeded_maximumhp_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_lp1" id="reallyneeded_maximumhp_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_lpc" id="reallyneeded_maximumhp_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_hp2" id="reallyneeded_maximumhp_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_hp1" id="reallyneeded_maximumhp_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_hpc" id="reallyneeded_maximumhp_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_bn2" id="reallyneeded_maximumhp_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_bn1" id="reallyneeded_maximumhp_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximumhp_bnc" id="reallyneeded_maximumhp_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_maximummp" id="reallyneeded_maximummp" />
                    <label for="reallyneeded_maximummp">MP</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_maximummp_goal" id="reallyneeded_maximummp_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_lp2" id="reallyneeded_maximummp_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_lp1" id="reallyneeded_maximummp_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_lpc" id="reallyneeded_maximummp_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_hp2" id="reallyneeded_maximummp_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_hp1" id="reallyneeded_maximummp_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_hpc" id="reallyneeded_maximummp_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_bn2" id="reallyneeded_maximummp_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_bn1" id="reallyneeded_maximummp_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_maximummp_bnc" id="reallyneeded_maximummp_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_power" id="reallyneeded_power" />
                    <label for="reallyneeded_power">力</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_power_goal" id="reallyneeded_power_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_lp2" id="reallyneeded_power_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_lp1" id="reallyneeded_power_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_lpc" id="reallyneeded_power_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_hp2" id="reallyneeded_power_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_hp1" id="reallyneeded_power_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_hpc" id="reallyneeded_power_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_bn2" id="reallyneeded_power_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_bn1" id="reallyneeded_power_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_power_bnc" id="reallyneeded_power_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_defence" id="reallyneeded_defence" />
                    <label for="reallyneeded_defence">守り</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_defence_goal" id="reallyneeded_defence_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_lp2" id="reallyneeded_defence_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_lp1" id="reallyneeded_defence_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_lpc" id="reallyneeded_defence_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_hp2" id="reallyneeded_defence_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_hp1" id="reallyneeded_defence_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_hpc" id="reallyneeded_defence_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_bn2" id="reallyneeded_defence_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_bn1" id="reallyneeded_defence_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_defence_bnc" id="reallyneeded_defence_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_attackmagic" id="reallyneeded_attackmagic" />
                    <label for="reallyneeded_attackmagic">攻魔</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_attackmagic_goal" id="reallyneeded_attackmagic_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_lp2" id="reallyneeded_attackmagic_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_lp1" id="reallyneeded_attackmagic_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_lpc" id="reallyneeded_attackmagic_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_hp2" id="reallyneeded_attackmagic_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_hp1" id="reallyneeded_attackmagic_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_hpc" id="reallyneeded_attackmagic_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_bn2" id="reallyneeded_attackmagic_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_bn1" id="reallyneeded_attackmagic_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_attackmagic_bnc" id="reallyneeded_attackmagic_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_recovermagic" id="reallyneeded_recovermagic" />
                    <label for="reallyneeded_recovermagic">回魔</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_recovermagic_goal" id="reallyneeded_recovermagic_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_lp2" id="reallyneeded_recovermagic_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_lp1" id="reallyneeded_recovermagic_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_lpc" id="reallyneeded_recovermagic_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_hp2" id="reallyneeded_recovermagic_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_hp1" id="reallyneeded_recovermagic_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_hpc" id="reallyneeded_recovermagic_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_bn2" id="reallyneeded_recovermagic_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_bn1" id="reallyneeded_recovermagic_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_recovermagic_bnc" id="reallyneeded_recovermagic_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_speed" id="reallyneeded_speed" />
                    <label for="reallyneeded_speed">早さ</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_speed_goal" id="reallyneeded_speed_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_lp2" id="reallyneeded_speed_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_lp1" id="reallyneeded_speed_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_lpc" id="reallyneeded_speed_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_hp2" id="reallyneeded_speed_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_hp1" id="reallyneeded_speed_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_hpc" id="reallyneeded_speed_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_bn2" id="reallyneeded_speed_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_bn1" id="reallyneeded_speed_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_speed_bnc" id="reallyneeded_speed_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_dexterity" id="reallyneeded_dexterity" />
                    <label for="reallyneeded_dexterity">器用</label>
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_dexterity_goal" id="reallyneeded_dexterity_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_lp2" id="reallyneeded_dexterity_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_lp1" id="reallyneeded_dexterity_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_lpc" id="reallyneeded_dexterity_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_hp2" id="reallyneeded_dexterity_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_hp1" id="reallyneeded_dexterity_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_hpc" id="reallyneeded_dexterity_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_bn2" id="reallyneeded_dexterity_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_bn1" id="reallyneeded_dexterity_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_dexterity_bnc" id="reallyneeded_dexterity_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr1" id="reallyneeded_expr1" />
                    <label for="reallyneeded_expr1">式A</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr1_expr" id="reallyneeded_expr1_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr1_goal" id="reallyneeded_expr1_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_lp2" id="reallyneeded_expr1_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_lp1" id="reallyneeded_expr1_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_lpc" id="reallyneeded_expr1_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_hp2" id="reallyneeded_expr1_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_hp1" id="reallyneeded_expr1_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_hpc" id="reallyneeded_expr1_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_bn2" id="reallyneeded_expr1_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_bn1" id="reallyneeded_expr1_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr1_bnc" id="reallyneeded_expr1_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr2" id="reallyneeded_expr2" />
                    <label for="reallyneeded_expr2">式B</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr2_expr" id="reallyneeded_expr2_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr2_goal" id="reallyneeded_expr2_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_lp2" id="reallyneeded_expr2_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_lp1" id="reallyneeded_expr2_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_lpc" id="reallyneeded_expr2_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_hp2" id="reallyneeded_expr2_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_hp1" id="reallyneeded_expr2_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_hpc" id="reallyneeded_expr2_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_bn2" id="reallyneeded_expr2_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_bn1" id="reallyneeded_expr2_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr2_bnc" id="reallyneeded_expr2_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr3" id="reallyneeded_expr3" />
                    <label for="reallyneeded_expr3">式C</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr3_expr" id="reallyneeded_expr3_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr3_goal" id="reallyneeded_expr3_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_lp2" id="reallyneeded_expr3_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_lp1" id="reallyneeded_expr3_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_lpc" id="reallyneeded_expr3_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_hp2" id="reallyneeded_expr3_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_hp1" id="reallyneeded_expr3_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_hpc" id="reallyneeded_expr3_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_bn2" id="reallyneeded_expr3_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_bn1" id="reallyneeded_expr3_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr3_bnc" id="reallyneeded_expr3_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr4" id="reallyneeded_expr4" />
                    <label for="reallyneeded_expr4">式D</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr4_expr" id="reallyneeded_expr4_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr4_goal" id="reallyneeded_expr4_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_lp2" id="reallyneeded_expr4_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_lp1" id="reallyneeded_expr4_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_lpc" id="reallyneeded_expr4_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_hp2" id="reallyneeded_expr4_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_hp1" id="reallyneeded_expr4_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_hpc" id="reallyneeded_expr4_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_bn2" id="reallyneeded_expr4_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_bn1" id="reallyneeded_expr4_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr4_bnc" id="reallyneeded_expr4_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr5" id="reallyneeded_expr5" />
                    <label for="reallyneeded_expr5">式E</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr5_expr" id="reallyneeded_expr5_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr5_goal" id="reallyneeded_expr5_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_lp2" id="reallyneeded_expr5_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_lp1" id="reallyneeded_expr5_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_lpc" id="reallyneeded_expr5_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_hp2" id="reallyneeded_expr5_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_hp1" id="reallyneeded_expr5_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_hpc" id="reallyneeded_expr5_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_bn2" id="reallyneeded_expr5_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_bn1" id="reallyneeded_expr5_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr5_bnc" id="reallyneeded_expr5_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr6" id="reallyneeded_expr6" />
                    <label for="reallyneeded_expr6">式F</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr6_expr" id="reallyneeded_expr6_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr6_goal" id="reallyneeded_expr6_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_lp2" id="reallyneeded_expr6_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_lp1" id="reallyneeded_expr6_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_lpc" id="reallyneeded_expr6_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_hp2" id="reallyneeded_expr6_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_hp1" id="reallyneeded_expr6_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_hpc" id="reallyneeded_expr6_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_bn2" id="reallyneeded_expr6_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_bn1" id="reallyneeded_expr6_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr6_bnc" id="reallyneeded_expr6_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr7" id="reallyneeded_expr7" />
                    <label for="reallyneeded_expr7">式G</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr7_expr" id="reallyneeded_expr7_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr7_goal" id="reallyneeded_expr7_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_lp2" id="reallyneeded_expr7_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_lp1" id="reallyneeded_expr7_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_lpc" id="reallyneeded_expr7_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_hp2" id="reallyneeded_expr7_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_hp1" id="reallyneeded_expr7_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_hpc" id="reallyneeded_expr7_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_bn2" id="reallyneeded_expr7_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_bn1" id="reallyneeded_expr7_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr7_bnc" id="reallyneeded_expr7_bnc" /></td>
                </tr>
                <tr>
                  <td>
                    <input type="checkbox" name="reallyneeded_expr8" id="reallyneeded_expr8" />
                    <label for="reallyneeded_expr8">式H</label>
                    <input type="text" maxlength="300" size="20" name="reallyneeded_expr8_expr" id="reallyneeded_expr8_expr" / />
                  </td>
                  <td><input type="number" min="0" max="3000" name="reallyneeded_expr8_goal" id="reallyneeded_expr8_goal" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_lp2" id="reallyneeded_expr8_lp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_lp1" id="reallyneeded_expr8_lp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_lpc" id="reallyneeded_expr8_lpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_hp2" id="reallyneeded_expr8_hp2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_hp1" id="reallyneeded_expr8_hp1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_hpc" id="reallyneeded_expr8_hpc" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_bn2" id="reallyneeded_expr8_bn2" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_bn1" id="reallyneeded_expr8_bn1" /></td>
                  <td><input type="number" min="0" max="9999" name="reallyneeded_expr8_bnc" id="reallyneeded_expr8_bnc" /></td>
                </tr>
              </tbody>
            </table>
            <hr />
            <div>
              <input type="checkbox" name="reallyneeded_refexpr" id="reallyneeded_refexpr" />
              <label for="reallyneeded_refexpr">参考値1の式:</label>
              <input type="text" maxlength="300" size="100" name="reallyneeded_refexpr_expr" id="reallyneeded_refexpr_expr" placeholder="HP+MP+PWR+DEF+AMG+RMG+SPD+DEX+NUM(式A#)+NUM(式B#)+NUM(式C#)+NUM(式D#)+NUM(式E#)+NUM(式F#)+NUM(式G#)+NUM(式H#)" / />
            </div>
            <div>
              <input type="checkbox" name="reallyneeded_refexpr2" id="reallyneeded_refexpr2" />
              <label for="reallyneeded_refexpr2">参考値2の式:</label>
              <input type="text" maxlength="300" size="100" name="reallyneeded_refexpr2_expr" id="reallyneeded_refexpr2_expr" placeholder="" / />
            </div>
            <div>
              <input type="checkbox" name="reallyneeded_refexpr3" id="reallyneeded_refexpr3" />
              <label for="reallyneeded_refexpr3">参考値3の式:</label>
              <input type="text" maxlength="300" size="100" name="reallyneeded_refexpr3_expr" id="reallyneeded_refexpr3_expr" placeholder="" / />
            </div>
            <div>
              <input type="checkbox" name="reallyneeded_refexpr4" id="reallyneeded_refexpr4" />
              <label for="reallyneeded_refexpr4">参考値4の式:</label>
              <input type="text" maxlength="300" size="100" name="reallyneeded_refexpr4_expr" id="reallyneeded_refexpr4_expr" placeholder="" / />
            </div>
            <div>
              <input type="checkbox" name="reallyneeded_refexpr5" id="reallyneeded_refexpr5" />
              <label for="reallyneeded_refexpr5">参考値5の式:</label>
              <input type="text" maxlength="300" size="100" name="reallyneeded_refexpr5_expr" id="reallyneeded_refexpr5_expr" placeholder="" / />
            </div>
            <div>
              <input type="checkbox" name="reallyneeded_refexpr6" id="reallyneeded_refexpr6" />
              <label for="reallyneeded_refexpr6">参考値6の式:</label>
              <input type="text" maxlength="300" size="100" name="reallyneeded_refexpr6_expr" id="reallyneeded_refexpr6_expr" placeholder="" / />
            </div>
            <hr />
            <div>
              <label for="reallyneeded_algorithm">探索手法:</label>
              <select name="reallyneeded_algorithm" id="reallyneeded_algorithm">
                <option value="gr" selected>Greedy</option>
                <option value="hc"         >Hill Climbing</option>
                <option value="sa"         >Simulated Annealing</option>
                <option value="bf"         >Brute Force</option>
              </select>
            </div>
            <hr />
            <div><button type="button" id="reallyneeded_start">探索開始</button></div>
          </div>
          <div class="outline reallyneeded">
            <div class="small">結果</div>
            <div id="reallyneeded_result"></div>
          </div>
        </details>
      </section>

      <hr class="secret" />

      <section class="secret damagetool">
        <h5>ダメージの目安の計算(雑)</h5>
        <details>
          <div>
            <dl>
              <dt>属性</dt><dd>メラ属性とかヒャド属性とか</dd>
              <dt>系統</dt><dd>スライム系とかドラゴン系とか</dd>
            </dl>
          </div>
          <div class="outline">
            <div class="small">こころ由来</div>
            <div><button type="button" id="add_damage_heartset">追加</div>
            <div id="damage_heartset_list"></div>
          </div>
          <hr />
          <div class="outline">
            <div class="small">スキル</div>
            <div><button type="button" id="add_damage_skill">スキル追加</div>
            <div id="damage_skill_list"></div>
          </div>
          <hr />
          <div class="outline" id="damage_nonheart">
            <div class="small">こころ以外</div>
            <div>
              <label>攻撃力:<input type="number" min="0" max="9999" name="damage_nonheart_attack_power" /></label>
              <label>攻撃魔力:<input type="number" min="0" max="9999" name="damage_nonheart_attack_magic" /></label>
            </div>
            <div>
              <label>斬:<input type="number" min="0" max="999" name="damage_nonheart_zangeki" /></label>
              <label>体:<input type="number" min="0" max="999" name="damage_nonheart_taigi" /></label>
              <label>呪:<input type="number" min="0" max="999" name="damage_nonheart_jumon" /></label>
            </div>
            <div>
              <label>属性A:<input type="number" min="0" max="999" name="damage_nonheart_type_a" /></label>
              <label>属性B:<input type="number" min="0" max="999" name="damage_nonheart_type_b" /></label>
              <label>属性C:<input type="number" min="0" max="999" name="damage_nonheart_type_c" /></label>
            </div>
            <div>
              <label>属性A斬:<input type="number" min="0" max="999" name="damage_nonheart_type_a_zangeki" /></label>
              <label>属性B斬:<input type="number" min="0" max="999" name="damage_nonheart_type_b_zangeki" /></label>
              <label>属性C斬:<input type="number" min="0" max="999" name="damage_nonheart_type_c_zangeki" /></label>
            </div>
            <div>
              <label>属性A体:<input type="number" min="0" max="999" name="damage_nonheart_type_a_taigi" /></label>
              <label>属性B体:<input type="number" min="0" max="999" name="damage_nonheart_type_b_taigi" /></label>
              <label>属性C体:<input type="number" min="0" max="999" name="damage_nonheart_type_c_taigi" /></label>
            </div>
            <div>
              <label>属性A呪:<input type="number" min="0" max="999" name="damage_nonheart_type_a_jumon" /></label>
              <label>属性B呪:<input type="number" min="0" max="999" name="damage_nonheart_type_b_jumon" /></label>
              <label>属性C呪:<input type="number" min="0" max="999" name="damage_nonheart_type_c_jumon" /></label>
            </div>
            <div>
              <label>系統X:<input type="number" min="0" max="999" name="damage_nonheart_monster_x" /></label>
              <label>系統Y:<input type="number" min="0" max="999" name="damage_nonheart_monster_y" /></label>
              <label>系統Z:<input type="number" min="0" max="999" name="damage_nonheart_monster_z" /></label>
            </div>
          </div>
          <hr />
          <div class="outline">
            <div class="small">結果</div>
            <div><button type="button" id="calc_damages">計算</button></div>
            <div id="damage_result"></div>
          </div>
        </details>
      </section>

    </main>

    <hr />

    <footer>
      <nav><a href=".">misc</a></nav>
    </footer>

    <template id="damage_skill_list_item">
      <div class="outline damage_skill">
        <div>
          <label>名前<input type="text" name="damage_skill_name" /></label>
          <label><input type="checkbox" name="damage_skill_use" checked />使用する</label>
        </div>
        <div>
          <label>参照<select name="damage_skill_attack_base">
            <option value="攻撃力" selected   >攻撃力</option>
            <option value="攻撃魔力"          >攻撃魔力</option>
            <option value="攻撃力＋攻撃魔力" >攻撃力＋攻撃魔力</option>
          </select></label>
          <label>威力<input type="number" min="0" max="9999" name="damage_skill_damage_rating" value="100" /></label>
          <label>回数<input type="number" min="1" max="99" name="damage_skill_count" value="1" /></label>
        <div>
        </div>
          <label>種類<select name="damage_skill_form">
            <option value="斬撃" selected>斬撃</option>
            <option value="体技"         >体技</option>
            <option value="呪文"         >呪文</option>
          </select></label>
          <label>属性<select name="damage_skill_type">
            <option value="なし" selected>なし</option>
            <option value="属性A"        >属性A</option>
            <option value="属性B"        >属性B</option>
            <option value="属性C"        >属性C</option>
          </select></label>
          <!--
              <label>系統<select name="damage_skill_monster">
                <option value="なし" selected>なし</option>
                <option value="系統X"        >系統X</option>
                <option value="系統Y"        >系統Y</option>
                <option value="系統Z"        >系統Z</option>
              </select></label>
            -->
        </div>
      </div>
    </template>

    <template id="damage_heartset_list_item">
      <div class="outline damage_heartset">
        <div>
          <label>名前<input type="text" name="damage_heart_name" /></label>
          <label><input type="checkbox" name="damage_heart_use" checked />使用する</label>
        </div>
        <div>
          <label>力:<input type="number" min="0" max="9999" name="damage_heart_attack_power" /></label>
          <label>攻魔:<input type="number" min="0" max="9999" name="damage_heart_attack_magic" /></label>
        </div>
        <div>
          <label>斬:<input type="number" min="0" max="999" name="damage_heart_zangeki" /></label>
          <label>体:<input type="number" min="0" max="999" name="damage_heart_taigi" /></label>
          <label>呪:<input type="number" min="0" max="999" name="damage_heart_jumon"  /></label>
        </div>
        <div>
          <label>属性A:<input type="number" min="0" max="999" name="damage_heart_type_a" /></label>
          <label>属性B:<input type="number" min="0" max="999" name="damage_heart_type_b" /></label>
          <label>属性C:<input type="number" min="0" max="999" name="damage_heart_type_c" /></label>
        </div>
        <div>
          <label>属性A斬:<input type="number" min="0" max="999" name="damage_heart_type_a_zangeki" /></label>
          <label>属性B斬:<input type="number" min="0" max="999" name="damage_heart_type_b_zangeki" /></label>
          <label>属性C斬:<input type="number" min="0" max="999" name="damage_heart_type_c_zangeki" /></label>
        </div>
        <div>
          <label>属性A体:<input type="number" min="0" max="999" name="damage_heart_type_a_taigi" /></label>
          <label>属性B体:<input type="number" min="0" max="999" name="damage_heart_type_b_taigi" /></label>
          <label>属性C体:<input type="number" min="0" max="999" name="damage_heart_type_c_taigi" /></label>
        </div>
        <div>
          <label>属性A呪:<input type="number" min="0" max="999" name="damage_heart_type_a_jumon" /></label>
          <label>属性B呪:<input type="number" min="0" max="999" name="damage_heart_type_b_jumon" /></label>
          <label>属性C呪:<input type="number" min="0" max="999" name="damage_heart_type_c_jumon" /></label>
        </div>
        <div>
          <label>系統X:<input type="number" min="0" max="999" name="damage_heart_monster_x" /></label>
          <label>系統Y:<input type="number" min="0" max="999" name="damage_heart_monster_y" /></label>
          <label>系統Z:<input type="number" min="0" max="999" name="damage_heart_monster_z" /></label>
        </div>
      </div>
    </template>

    <template id="heart_list_item">
      <fieldset>
        <details>
          <summary>
            <span>
              <span class="monster-color"></span>
              <span class="monster-cost"></span>
            </span>
            <span class="monster-name"></span>
            <span>
              <label><input type="radio" class="monster-rank" value="S_plus" /><span>S+</span></label>
              <label><input type="radio" class="monster-rank" value="S"       /><span>S</span></label>
              <label><input type="radio" class="monster-rank" value="A"       /><span>A</span></label>
              <label><input type="radio" class="monster-rank" value="B"       /><span>B</span></label>
              <label><input type="radio" class="monster-rank" value="C"       /><span>C</span></label>
              <label><input type="radio" class="monster-rank" value="D"       /><span>D</span></label>
              <label><input type="radio" class="monster-rank" value="omit"    /><span>－</span></label>
            </span>
          </summary>
          <div><span>HP:</span> <span class="monster-maximumhp"></span></div>
          <div><span>MP:</span> <span class="monster-maximummp"></span></div>
          <div><span>力:</span> <span class="monster-power"></span></div>
          <div><span>守り:</span> <span class="monster-defence"></span></div>
          <div><span>攻魔:</span> <span class="monster-attackmagic"></span></div>
          <div><span>回魔:</span> <span class="monster-recovermagic"></span></div>
          <div><span>早さ:</span> <span class="monster-speed"></span></div>
          <div><span>器用:</span> <span class="monster-dexterity"></span></div>
          <div><span>こころ最大コスト:</span> <span class="monster-maximumcost"></span></div>
          <div><span>スキル・特殊効果:</span> <span class="monster-effects"></span></div>
          <div>
            <button type="button" class="monster-change-name">名前の変更</button>
            <button type="button" class="monster-add-or-edit">追加・編集</button>
          </div>
          <div>
            <label>
              <input type="checkbox" class="monster-with-s_plus" checked disabled />
              <span>S+の同時検索</span>
              <span class="small">※同一こころのS+とS以下の同時検索が有効時に反映</span>
            </label>
          </div>
        </details>
      </fieldset>
    </template>

    <template id="result_item">
      <div class="outline">
        <div><span>候補</span> <span class="result-item-number"></span></div>
        <div><span>スコア:</span> <span class="result-item-score"></span></div>
        <div><span>こころコスト:</span> <span class="result-item-cost"></span></div>
        <div><span>こころ枠1:</span> <span class="result-item-heart1"></span></div>
        <div><span>こころ枠2:</span> <span class="result-item-heart2"></span></div>
        <div><span>こころ枠3:</span> <span class="result-item-heart3"></span></div>
        <div><span>こころ枠4:</span> <span class="result-item-heart4"></span></div>
        <div><span>HP:</span> <span class="result-item-maximumhp"></span></div>
        <div><span>MP:</span> <span class="result-item-maximummp"></span></div>
        <div><span>力:</span> <span class="result-item-power"></span></div>
        <div><span>守り:</span> <span class="result-item-defence"></span></div>
        <div><span>攻魔:</span> <span class="result-item-attackmagic"></span></div>
        <div><span>回魔:</span> <span class="result-item-recovermagic"></span></div>
        <div><span>早さ:</span> <span class="result-item-speed"></span></div>
        <div><span>器用:</span> <span class="result-item-dexterity"></span></div>
        <div><span>スキル・特殊効果1:</span> <span class="result-item-effects1"></span></div>
        <div><span>スキル・特殊効果2:</span> <span class="result-item-effects2"></span></div>
        <div><span>スキル・特殊効果3:</span> <span class="result-item-effects3"></span></div>
        <div><span>スキル・特殊効果4:</span> <span class="result-item-effects4"></span></div>
      </div>
    </template>

  </body>
</html>
